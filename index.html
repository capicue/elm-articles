<!DOCTYPE HTML>

<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <title>Elm Articles</title>

  <script type="text/javascript" src="elm.js"></script>

  <link rel="stylesheet" href="styles/normalize.css">
  <link rel="stylesheet" href="styles/skeleton.css">
  <link rel="stylesheet" href="styles/style.css">
</head>

<body>
  <script type="text/javascript">
    var app = Elm.fullscreen(Elm.Main, {loadNextPage: ""});

    window.addEventListener("scroll", function(event) {
        var scrollPosition = window.pageYOffset;
        var pageHeight = document.documentElement.scrollHeight;
        var clientHeight = document.documentElement.clientHeight;

        if (pageHeight - (scrollPosition + clientHeight) < 50) {
          app.ports.loadNextPage.send("loadMore");
        }
    });
  </script>
</body>
</html>
